
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageSpy Pro 高级页面监控系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 样式优化：添加资源类型颜色标识 */
        .resource-type-http { border-left-color: #3b82f6; }
        .resource-type-js { border-left-color: #f59e0b; }
        .resource-type-css { border-left-color: #8b5cf6; }
        .resource-type-image { border-left-color: #10b981; }
        .resource-type-font { border-left-color: #ef4444; }
        
        /* 添加测试进度条样式 */
        .test-progress {
            transition: width 0.5s ease-in-out;
        }
        
        /* 添加脉冲动画效果 */
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">PageSpy Pro 高级页面监控系统</h1>
            <p class="text-gray-600">实时捕获请求、日志、错误、设备信息和资源测试</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <!-- 控制面板 -->
            <div class="lg:col-span-1">
                <div class="monitor-panel rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">监控控制台</h2>
                    
                    <div class="space-y-4">
                        <button id="startMonitor" class="w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg transition-all transform hover:scale-105">
                            <i class="fas fa-play mr-2"></i>开始监控
                        </button>
                        
                        <button id="testResources" class="w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg transition-all">
                            <i class="fas fa-vial mr-2"></i>测试资源
                        </button>
                        
                        <button id="clearLogs" class="w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg transition-all">
                            <i class="fas fa-trash mr-2"></i>清空日志
                        </button>
                        
                        <button id="exportData" class="w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg transition-all">
                            <i class="fas fa-download mr-2"></i>导出数据
                        </button>
                        
                        <div class="bg-gray-100 rounded-lg p-4">
                            <h3 class="font-medium text-gray-700 mb-2">监控状态</h3>
                            <div id="monitorStatus" class="text-sm text-gray-600">未启动</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 监控数据显示区域 -->
            <div class="lg:col-span-3">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- 网络请求监控 -->
                    <div class="monitor-panel rounded-xl shadow-lg p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">
                            <i class="fas fa-network-wired mr-2"></i>网络请求
                        </h2>
                        <div id="networkRequests" class="space-y-2 max-h-60 overflow-y-auto">
                    </div>
                </div>

                <!-- 资源测试结果 -->
                <div class="monitor-panel rounded-xl shadow-lg p-6 mt-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-vial-circle-check mr-2"></i>资源测试结果
                    </h2>
                    <div id="resourceTestResults" class="space-y-2 max-h-60 overflow-y-auto">
                </div>
            </div>

                <!-- 日志输出 -->
                <div class="monitor-panel rounded-xl shadow-lg p-6 mt-6">
                            <h2 class="text-lg font-semibold text-gray-800 mb-4">
                                <i class="fas fa-terminal mr-2"></i>控制台日志
                            </h2>
                            <div id="consoleLogs" class="space-y-2 max-h-60 overflow-y-auto">
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 设备信息面板 -->
        <div class="mt-8">
            <div class="monitor-panel rounded-xl shadow-lg p-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-laptop mr-2"></i>设备信息
                    </h2>
                    <div id="deviceInfo" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /**
         * PageSpy Pro 核心监控类
         * 负责协调各个监控模块的工作，包括新增的资源测试功能
         */
        class PageSpyPro {
            constructor() {
                this.modules = {
                    network: null,
                    console: null,
                    device: null,
                    dom: null,
                    resource: null
                };
                this.isMonitoring = false;
                this.init();
            }

            init() {
                console.log('PageSpy Pro 监控系统初始化中...');
                
                // 初始化各个监控模块
                this.modules.network = new NetworkMonitor();
                this.modules.console = new ConsoleMonitor();
                this.modules.device = new DeviceMonitor();
                this.modules.dom = new OptimizedDOMMonitor();
                this.modules.resource = new ResourceTester();
                
                this.setupUIEvents();
                this.loadInitialData();
            }

            setupUIEvents() {
                document.getElementById('startMonitor').addEventListener('click', () => {
                    this.toggleMonitoring();
                });

                document.getElementById('testResources').addEventListener('click', () => {
                    this.modules.resource.testAllResources();
                });

                document.getElementById('clearLogs').addEventListener('click', () => {
                    this.clearAllLogs();
                });

                document.getElementById('exportData').addEventListener('click', () => {
                    this.exportAllData();
                });
            }

            toggleMonitoring() {
                this.isMonitoring = !this.isMonitoring;
                
                if (this.isMonitoring) {
                    this.startAllMonitors();
                } else {
                    this.stopAllMonitors();
                }
            }

            startAllMonitors() {
                this.modules.network.start();
                this.modules.console.start();
                this.modules.device.start();
                this.modules.dom.start();
                
                document.getElementById('monitorStatus').textContent = '监控中...';
                document.getElementById('startMonitor').innerHTML = '<i class="fas fa-stop mr-2"></i>停止监控';
                
                console.log('PageSpy Pro 监控已启动');
            }

            stopAllMonitors() {
                this.modules.network.stop();
                this.modules.console.stop();
                this.modules.device.stop();
                this.modules.dom.stop();
                
                document.getElementById('monitorStatus').textContent = '已停止';
                document.getElementById('startMonitor').innerHTML = '<i class="fas fa-play mr-2"></i>开始监控';
                
                console.log('PageSpy Pro 监控已停止');
            }

            clearAllLogs() {
                document.getElementById('networkRequests').innerHTML = '';
                document.getElementById('consoleLogs').innerHTML = '';
                document.getElementById('resourceTestResults').innerHTML = '';
                
                console.log('所有日志已清空');
            }

            exportAllData() {
                const exportData = {
                    timestamp: new Date().toISOString(),
                    networkRequests: this.modules.network.requests,
                    consoleLogs: this.modules.console.logs,
                    deviceInfo: this.modules.device.deviceInfo,
                    domChanges: this.modules.dom.changes,
                    resourceTests: this.modules.resource.testResults
                };
                
                const dataStr = JSON.stringify(exportData, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `pagespy-data-${new Date().getTime()}.json`;
                link.click();
                URL.revokeObjectURL(url);
                
                console.log('监控数据已导出');
            }

            loadInitialData() {
                this.modules.device.collectDeviceInfo();
            }
        }

        /**
         * 网络请求监控模块
         * 拦截和记录所有网络请求
         */
        class NetworkMonitor {
            constructor() {
                this.requests = [];
                this.originalXHR = null;
                this.originalFetch = null;
            }

            start() {
                this.interceptXHR();
                this.interceptFetch();
                console.log('网络请求监控已启动');
            }

            stop() {
                this.restoreXHR();
                this.restoreFetch();
                console.log('网络请求监控已停止');
            }

            interceptXHR() {
                const self = this;
                this.originalXHR = window.XMLHttpRequest;
                
                window.XMLHttpRequest = function() {
                    const xhr = new self.originalXHR();
                    self.setupXHREvents(xhr);
                    return xhr;
                };
            }

            interceptFetch() {
                const self = this;
                this.originalFetch = window.fetch;
                
                window.fetch = function() {
                    const args = arguments;
                    const startTime = Date.now();
                    const url = typeof args[0] === 'string' ? args[0] : args[0].url;
                    
                    return self.originalFetch.apply(this, args)
                        .then(response => {
                            const duration = Date.now() - startTime;
                            self.recordFetchRequest(args, response, duration);
                            return response;
                        })
                        .catch(error => {
                            console.error('Fetch 请求失败:', error);
                            throw error;
                        });
                };
            }

            setupXHREvents(xhr) {
                const originalOpen = xhr.open;
                const originalSend = xhr.send;
                const self = this;
                
                xhr.open = function(method, url, async, user, password) {
                    this._method = method;
                    this._url = url;
                    this._startTime = Date.now();
                    
                    return originalOpen.apply(this, arguments);
                };
                
                xhr.send = function(data) {
                    const requestData = {
                        type: 'xhr',
                        method: this._method,
                        url: this._url,
                        data: data,
                        timestamp: new Date().toISOString()
                    };
                    
                    self.recordXHRRequest(requestData);
                    
                    xhr.addEventListener('load', function() {
                        const duration = Date.now() - this._startTime;
                        self.recordXHRResponse(this, duration);
                    });
                    
                    return originalSend.apply(this, arguments);
                };
            }

            recordXHRRequest(data) {
                this.requests.push(data);
                this.displayNetworkRequest(data);
            }

            recordXHRResponse(xhr, duration) {
                const responseData = {
                    status: xhr.status,
                    statusText: xhr.statusText,
                    duration: duration
                };
                
                console.log('XHR 请求完成:', data);
            }

            recordFetchRequest(args, response, duration) {
                const data = {
                    type: 'fetch',
                    url: args[0],
                    method: args[1]?.method || 'GET',
                    data: args[1]?.body,
                    status: response.status,
                    duration: duration,
                    timestamp: new Date().toISOString()
                };
                
                this.requests.push(data);
                this.displayNetworkRequest(data);
            }

            displayNetworkRequest(data) {
                const container = document.getElementById('networkRequests');
                const item = document.createElement('div');
                item.className = 'network-item bg-white rounded-lg p-3 border-l-4 border-blue-500'
                
                item.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span class="font-medium">${data.method} ${data.url}</span>
                        <span class="text-xs ${data.status >= 400 ? 'text-red-500' : 'text-green-500'}">
                            ${data.status} - ${data.duration}ms
                        </span>
                    </div>
                `;
                
                container.appendChild(item);
            }

            restoreXHR() {
                if (this.originalXHR) {
                    window.XMLHttpRequest = this.originalXHR;
                }
            }

            restoreFetch() {
                if (this.originalFetch) {
                    window.fetch = this.originalFetch;
                }
            }
        }

        /**
         * 控制台日志监控模块
         * 拦截所有console输出并记录
         */
        class ConsoleMonitor {
            constructor() {
                this.logs = [];
                this.originalConsole = {};
                this.init();
            }

            init() {
                ['log', 'error', 'warn', 'info', 'debug'].forEach(method => {
                    this.originalConsole[method] = console[method];
                });
            }

            start() {
                this.overrideConsole();
                console.log('控制台日志监控已启动');
            }

            stop() {
                this.restoreConsole();
                console.log('控制台日志监控已停止');
            }

            overrideConsole() {
                const self = this;
                
                ['log', 'error', 'warn', 'info', 'debug'].forEach(method => {
                    console[method] = function() {
                        // 调用原始方法
                        self.originalConsole[method].apply(console, arguments);
                        
                        // 记录日志
                        const logData = {
                            type: 'console',
                            level: method,
                            args: Array.from(arguments),
                            timestamp: new Date().toISOString(),
                            stack: new Error().stack
                        };
                        
                        self.recordConsoleLog(logData);
                    };
                });
            }

            restoreConsole() {
                ['log', 'error', 'warn', 'info', 'debug'].forEach(method => {
                    console[method] = this.originalConsole[method];
                });
            }

            recordConsoleLog(data) {
                this.logs.push(data);
                this.displayConsoleLog(data);
            }

            displayConsoleLog(data) {
                const container = document.getElementById('consoleLogs');
                const item = document.createElement('div');
                item.className = `network-item bg-white rounded-lg p-3 border-l-4 log-level-${data.level}`;
                
                item.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex items-center">
                            <span class="w-3 h-3 rounded-full mr-2 ${
                                data.level === 'error' ? 'bg-red-500' : 
                                data.level === 'warn' ? 'bg-yellow-500' :
                                data.level === 'info' ? 'bg-blue-500' :
                                data.level === 'debug' ? 'bg-gray-500' : 'bg-green-500'}"></span>
                            <span class="font-medium capitalize">${data.level}</span>
                        </div>
                        <span class="text-xs text-gray-500">${new Date(data.timestamp).toLocaleTimeString()}</span>
                    </div>
                    <div class="mt-2 text-sm">
                        ${data.args.map(arg => 
                            typeof arg === 'object' ? JSON.stringify(arg) : String(arg)
                        ).join(' ')}
                    </div>
                `;
                
                container.appendChild(item);
            }
        }

        /**
         * 设备信息监控模块
         * 收集浏览器、操作系统和硬件信息
         */
        class DeviceMonitor {
            constructor() {
                this.deviceInfo = {};
            }

            start() {
                this.collectDeviceInfo();
                console.log('设备信息监控已启动');
            }

            stop() {
                console.log('设备信息监控已停止');
            }

            collectDeviceInfo() {
                this.deviceInfo = {
                    browser: {
                        name: this.getBrowserName(),
                        version: this.getBrowserVersion(),
                        userAgent: navigator.userAgent,
                        language: navigator.language,
                        languages: navigator.languages,
                        cookieEnabled: navigator.cookieEnabled,
                        onLine: navigator.onLine
                    },
                    
                    os: {
                        platform: navigator.platform,
                        vendor: navigator.vendor
                    },
                    
                    hardware: {
                        cores: navigator.hardwareConcurrency || '未知',
                        memory: navigator.deviceMemory || '未知',
                        touchSupport: 'ontouchstart' in window,
                        maxTouchPoints: navigator.maxTouchPoints || 0
                    },
                    
                    screen: {
                        width: screen.width,
                        height: screen.height,
                        colorDepth: screen.colorDepth,
                        pixelDepth: screen.pixelDepth
                    },
                    
                    performance: {
                        timing: performance.timing ? {
                            loadTime: performance.timing.loadEventEnd - performance.timing.navigationStart
                        } : null,
                        memory: performance.memory || null
                    }
                };
                
                this.displayDeviceInfo();
            }

            getBrowserName() {
                const userAgent = navigator.userAgent;
                if (userAgent.includes('Chrome')) return 'Chrome';
                if (userAgent.includes('Firefox')) return 'Firefox';
                if (userAgent.includes('Safari')) return 'Safari';
                if (userAgent.includes('Edge')) return 'Edge';
                return '未知';
            }

            getBrowserVersion() {
                const userAgent = navigator.userAgent;
                const match = userAgent.match(/(chrome|firefox|safari|edge)\/([0-9.]+)/i);
                return match ? match[2] : '未知';
            }

            displayDeviceInfo() {
                const container = document.getElementById('deviceInfo');
                container.innerHTML = '';
                
                Object.keys(this.deviceInfo).forEach(category => {
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'bg-white rounded-lg p-4';
                    
                    categoryDiv.innerHTML = `
                        <h3 class="font-semibold text-gray-700 mb-2 capitalize">${category}</h3>
                        <div class="space-y-1">
                            ${Object.keys(this.deviceInfo[category]).map(key => `
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">${key}</span>
                                    <span class="text-sm font-medium">${this.deviceInfo[category][key]}</span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    
                    container.appendChild(categoryDiv);
                });
            }
        }

        /**
         * 优化后的DOM元素监控模块
         * 添加防抖机制和过滤规则
         */
        class OptimizedDOMMonitor {
            constructor() {
                this.observer = null;
                this.changes = [];
                this.debounceTimer = null;
                this.batchChanges = [];
            }

            start() {
                this.setupMutationObserver();
                console.log('DOM元素监控已启动（优化版）');
            }

            stop() {
                if (this.observer) {
                    this.observer.disconnect();
                }
                if (this.debounceTimer) {
                    clearTimeout(this.debounceTimer);
                }
                console.log('DOM元素监控已停止');
            }

            setupMutationObserver() {
                const self = this;
                this.observer = new MutationObserver((mutations) => {
                    // 使用防抖机制，避免频繁更新
                    if (this.debounceTimer) {
                        clearTimeout(this.debounceTimer);
                    }
                    
                    this.debounceTimer = setTimeout(() => {
                        self.processBatchMutations(mutations);
                    }, 100); // 100ms防抖延迟
                })

                // 优化观察配置，减少监听范围
                this.observer.observe(document.body, {
                    childList: true,
                    attributes: true,
                    subtree: true,
                    attributeFilter: ['class', 'style', 'id'] // 只监听重要属性变化
                });
            }

            processBatchMutations(mutations) {
                const batch = {
                    timestamp: new Date().toISOString(),
                    changes: []
                };

                mutations.forEach((mutation) => {
                    // 过滤掉不重要的变化
                    if (this.isSignificantChange(mutation)) {
                        const change = {
                            type: mutation.type,
                            target: this.getSimplifiedTarget(mutation.target),
                            addedNodes: this.getSignificantAddedNodes(mutation.addedNodes),
                            removedNodes: this.getSignificantRemovedNodes(mutation.removedNodes),
                            attributeName: mutation.attributeName
                        };
                        
                        batch.changes.push(change);
                        this.changes.push(change);
                    }
                });

                // 只有当有重要变化时才输出日志
                if (batch.changes.length > 0) {
                    console.log(`DOM批量变化记录: ${batch.changes.length}个重要变更`, batch);
                }
            }

            isSignificantChange(mutation) {
                // 过滤掉样式微调和文本内容变化
                if (mutation.type === 'characterData') {
                        return false;
                    }
                    
                    // 过滤掉不重要的属性变化
                    if (mutation.type === 'attributes') {
                        const attrName = mutation.attributeName;
                        // 只关注重要的属性变化
                        const importantAttrs = ['class', 'style', 'id', 'src', 'href'];
                        return importantAttrs.includes(attrName);
                    }
                    
                    return true;
                }

                getSimplifiedTarget(target) {
                    if (!target || !target.tagName) return null;
                    
                    return {
                        tagName: target.tagName.toLowerCase(),
                        id: target.id || null,
                        className: target.className || null
                    };
                }

                getSignificantAddedNodes(addedNodes) {
                    return Array.from(addedNodes)
                        .filter(node => 
                            node.nodeType === Node.ELEMENT_NODE && 
                            !this.isInsignificantElement(node)
                        )
                        .map(node => ({
                            tagName: node.tagName ? node.tagName.toLowerCase() : 'text',
                            nodeType: node.nodeType
                        }))
                }

                getSignificantRemovedNodes(removedNodes) {
                    return Array.from(removedNodes)
                        .filter(node => 
                            node.nodeType === Node.ELEMENT_NODE
                        )
                        .map(node => ({
                            tagName: node.tagName ? node.tagName.toLowerCase() : 'text',
                            nodeType: node.nodeType
                        }))
                }

                isInsignificantElement(node) {
                    if (node.nodeType !== Node.ELEMENT_NODE) return false;
                    
                    const tagName = node.tagName.toLowerCase();
                    const insignificantTags = ['script', 'style', 'meta', 'link'];
                    return insignificantTags.includes(tagName);
                }
            }

            /**
             * 资源测试模块 - 新增功能
             * 测试各种类型的网络资源加载状态
             */
            class ResourceTester {
                constructor() {
                    this.testResults = [];
                    this.testUrls = {
                        http: [
                            'https://httpbin.org/get',
                            'https://jsonplaceholder.typicode.com/posts/1',
                            'https://api.github.com'
                        ],
                        js: [
                            'https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js',
                            'https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js'
                        ],
                        css: [
                            'https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css'
                        ],
                        image: [
                            'https://picsum.photos/200/300',
                            'https://picsum.photos/400/300',
                            'https://via.placeholder.com/150'
                        ],
                        font: [
                            'https://fonts.googleapis.com/css2?family=Roboto&display=swap'
                        ]
                    };
                }

                /**
                 * 测试所有类型的资源
                 */
                testAllResources() {
                    console.log('开始资源测试...');
                    this.testResults = [];
                    
                    // 测试HTTP API
                    this.testUrls.http.forEach(url => {
                        this.testResource(url, 'http');
                    });
                    
                    // 测试JavaScript文件
                    this.testUrls.js.forEach(url => {
                        this.testResource(url, 'js');
                    });
                    
                    // 测试CSS文件
                    this.testUrls.css.forEach(url => {
                        this.testResource(url, 'css');
                    });
                    
                    // 测试图片资源
                    this.testUrls.image.forEach(url => {
                        this.testResource(url, 'image');
                    });
                    
                    // 测试字体资源
                    this.testUrls.font.forEach(url => {
                        this.testResource(url, 'font');
                    });
                }

                /**
                 * 测试单个资源
                 */
                testResource(url, type) {
                    const startTime = Date.now();
                    const testId = `test-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
                    
                    fetch(url, { method: 'HEAD' })
                        .then(response => {
                            const duration = Date.now() - startTime;
                            const result = {
                                id: testId,
                                url: url,
                                type: type,
                                status: response.status,
                                statusText: response.statusText,
                                duration: duration,
                                success: response.ok,
                                timestamp: new Date().toISOString()
                            };
                            
                            this.recordTestResult(result);
                        })
                        .catch(error => {
                            const duration = Date.now() - startTime;
                            const result = {
                                id: testId,
                                url: url,
                                type: type,
                                status: 0,
                                statusText: error.message,
                                duration: duration,
                                success: false,
                                timestamp: new Date().toISOString()
                            };
                            
                            this.recordTestResult(result);
                        });
                }

                /**
                 * 记录测试结果
                 */
                recordTestResult(result) {
                    this.testResults.push(result);
                    this.displayTestResult(result);
                }

                /**
                 * 显示测试结果
                 */
                displayTestResult(result) {
                    const container = document.getElementById('resourceTestResults');
                    const item = document.createElement('div');
                    item.className = `network-item bg-white rounded-lg p-3 border-l-4 resource-type-${result.type}`;
                    
                    item.innerHTML = `
                        <div class="flex justify-between items-center">
                            <div class="flex items-center">
                                <span class="w-3 h-3 rounded-full mr-2 ${
                                    result.success ? 'bg-green-500' : 'bg-red-500'}"></span>
                                <span class="font-medium">${result.type.toUpperCase()}</span>
                            </div>
                            <span class="text-xs ${result.success ? 'text-green-500' : 'text-red-500'}">
                                    ${result.success ? '成功' : '失败'} - ${result.duration}ms
                                </span>
                        </div>
                        <div class="mt-2 text-sm text-gray-600">${result.url}</div>
                        <div class="flex justify-between mt-1">
                            <span class="text-xs">状态码: ${result.status}</span>
                            <span class="text-xs ${result.success ? 'resource-status-success' : 'resource-status-error'}">
                                    ${result.success ? '✓ 正常' : '✗ 错误'}
                            </span>
                        </div>
                    `;
                    
                    container.appendChild(item);
                }
            }

            // 初始化PageSpy Pro系统
            const pageSpy = new PageSpyPro();
        </script>
</body>
</html>
